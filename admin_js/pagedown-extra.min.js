(function(){function m(a){return a.replace(/^\s+|\s+$/g,"")}function w(a,b){return a.replace(/<[^>]*>?/gi,function(c){return c.match(b)?c:""})}function q(a){"\u0002"!=a.charAt(0)&&(a="\u0002"+a);"\u0003"!=a.charAt(a.length-1)&&(a+="\u0003");return a}function r(a){"\u0002"==a.charAt(0)&&(a=a.substr(1));"\u0003"==a.charAt(a.length-1)&&(a=a.substr(0,a.length-1));return a}function n(a,b){return w(t(a,b),x)}function t(a,b){a=b.blockGamutHookCallback(a);a=y(a);a=a.replace(/~D/g,"$$").replace(/~T/g,"~");
return a=b.previousPostConversion(a)}function y(a){return a=a.replace(/~E(\d+)E/g,function(b,c){b=parseInt(c);return String.fromCharCode(b)})}function u(a){return a.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function z(a,b){a=b.replace(/&#8220;/g,'"');a=a.replace(/&#8221;/g,'"');a=a.replace(/&#8216;/g,"'");a=a.replace(/&#8217;/g,"'");a=a.replace(/&#8212;/g,"---");a=a.replace(/&#8211;/g,"--");return a=a.replace(/&#8230;/g,"...")}
var x=/^(<\/?(a|abbr|acronym|applet|area|b|basefont|bdo|big|button|cite|code|del|dfn|em|figcaption|font|i|iframe|img|input|ins|kbd|label|map|mark|meter|object|param|progress|q|ruby|rp|rt|s|samp|script|select|small|span|strike|strong|sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|<(br)\s?\/?>)$/i;Array.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1});Markdown.Extra=function(){this.converter=null;this.hashBlocks=[];this.footnotes={};this.usedFootnotes=
[];this.highlightJs=this.googleCodePrettify=this.attributeBlocks=!1;this.tableClass="";this.tabWidth=4};Markdown.Extra.init=function(a,b){var c=new Markdown.Extra,d=[],e=[],f=[],h=["unHashExtraBlocks"];b=b||{};b.extensions=b.extensions||["all"];-1!=b.extensions.indexOf("all")&&(b.extensions="tables fenced_code_gfm def_list attr_list footnotes smartypants strikethrough newlines".split(" "));e.push("wrapHeaders");-1!=b.extensions.indexOf("attr_list")&&(d.push("hashFcbAttributeBlocks"),e.push("hashHeaderAttributeBlocks"),
h.push("applyAttributeBlocks"),c.attributeBlocks=!0);-1!=b.extensions.indexOf("fenced_code_gfm")&&(e.push("fencedCodeBlocks"),d.push("fencedCodeBlocks"));-1!=b.extensions.indexOf("tables")&&e.push("tables");-1!=b.extensions.indexOf("def_list")&&e.push("definitionLists");-1!=b.extensions.indexOf("footnotes")&&(d.push("stripFootnoteDefinitions"),e.push("doFootnotes"),h.push("printFootnotes"));-1!=b.extensions.indexOf("smartypants")&&h.push("runSmartyPants");-1!=b.extensions.indexOf("strikethrough")&&
f.push("strikethrough");-1!=b.extensions.indexOf("newlines")&&f.push("newlines");a.hooks.chain("postNormalization",function(g){return c.doTransform(d,g)+"\n"});a.hooks.chain("preBlockGamut",function(g,l){c.blockGamutHookCallback=l;g=g.replace(/\\\|/g,"~I").replace(/\\:/g,"~i");g=c.doTransform(e,g)+"\n";return g=g.replace(/~I/g,"|").replace(/~i/g,":")});a.hooks.chain("postSpanGamut",function(g){return c.doTransform(f,g)});c.previousPostConversion=a.hooks.postConversion;a.hooks.chain("postConversion",
function(g){g=c.doTransform(h,g);c.hashBlocks=[];c.footnotes={};c.usedFootnotes=[];return g});"highlighter"in b&&(c.googleCodePrettify="prettify"===b.highlighter,c.highlightJs="highlight"===b.highlighter);"table_class"in b&&(c.tableClass=b.table_class);c.converter=a;return c};Markdown.Extra.prototype.doTransform=function(a,b){for(var c=0;c<a.length;c++)b=this[a[c]](b);return b};Markdown.Extra.prototype.hashExtraBlock=function(a){return"\n<p>~X"+(this.hashBlocks.push(a)-1)+"X</p>\n"};Markdown.Extra.prototype.hashExtraInline=
function(a){return"~X"+(this.hashBlocks.push(a)-1)+"X"};Markdown.Extra.prototype.unHashExtraBlocks=function(a){function b(){var d=!1;a=a.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g,function(e,f){d=!0;e=parseInt(f,10);return c.hashBlocks[e]});!0===d&&b()}var c=this;b();return a};Markdown.Extra.prototype.wrapHeaders=function(a){function b(c){return"\n"+c+"\n"}a=a.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm,b);a=a.replace(/^.+[ \t]*\n-+[ \t]*\n+/gm,b);return a=a.replace(/^#{1,6}[ \t]*.+?[ \t]*#*\n+/gm,b)};var A=/^(#{1,6}.*#{0,6})[ \t]+\{[ \t]*((?:[#.][-_:a-zA-Z0-9]+[ \t]*)+)\}[ \t]*(?:\n|0x03)/gm,
B=/^(.*)[ \t]+\{[ \t]*((?:[#.][-_:a-zA-Z0-9]+[ \t]*)+)\}[ \t]*\n(?=[\-|=]+\s*(?:\n|0x03))/gm,C=/^(```[ \t]*[^{\s]*)[ \t]+\{[ \t]*((?:[#.][-_:a-zA-Z0-9]+[ \t]*)+)\}[ \t]*\n(?=([\s\S]*?)\n```[ \t]*(\n|0x03))/gm;Markdown.Extra.prototype.hashHeaderAttributeBlocks=function(a){function b(d,e,f){return"<p>~XX"+(c.hashBlocks.push(f)-1)+"XX</p>\n"+e+"\n"}var c=this;a=a.replace(A,b);return a=a.replace(B,b)};Markdown.Extra.prototype.hashFcbAttributeBlocks=function(a){var b=this;return a.replace(C,function(c,
d,e){return"<p>~XX"+(b.hashBlocks.push(e)-1)+"XX</p>\n"+d+"\n"})};Markdown.Extra.prototype.applyAttributeBlocks=function(a){var b=this;return a=a.replace(/<p>~XX(\d+)XX<\/p>[\s]*(?:<(h[1-6]|pre)(?: +class="(\S+)")?(>[\s\S]*?<\/\2>))/gm,function(c,d,e,f,h){if(!e)return"";c=parseInt(d,10);d=b.hashBlocks[c];c=d.match(/#[^\s#.]+/g)||[];c=c[0]?' id="'+c[0].substr(1,c[0].length-1)+'"':"";var g=d.match(/\.[^\s#.]+/g)||[];for(d=0;d<g.length;d++)g[d]=g[d].substr(1,g[d].length-1);d="";if(f){var l=[f];f={};
for(var k=0;k<g.length;k++)f[g[k]]=g[k];for(k=0;k<l.length;k++)f[l[k]]=l[k];g=[];for(var p in f)f.hasOwnProperty(p)&&g.push(f[p])}0<g.length&&(d=' class="'+g.join(" ")+'"');return"<"+e+c+d+h})};Markdown.Extra.prototype.tables=function(a){function b(d,e,f,h,g,l){e=e.replace(/^ *[|]/m,"");f=f.replace(/^ *[|]/m,"");h=h.replace(/^ *[|]/gm,"");e=e.replace(/[|] *$/m,"");f=f.replace(/[|] *$/m,"");h=h.replace(/[|] *$/gm,"");alignspecs=f.split(/ *[|] */);align=[];for(d=0;d<alignspecs.length;d++)f=alignspecs[d],
f.match(/^ *-+: *$/m)?align[d]=' align="right"':f.match(/^ *:-+: *$/m)?align[d]=' align="center"':f.match(/^ *:-+ *$/m)?align[d]=' align="left"':align[d]="";g=e.split(/ *[|] */);e=g.length;f=["<table",c.tableClass?' class="'+c.tableClass+'"':"",">\n<thead>\n<tr>\n"].join("");for(d=0;d<e;d++)l=n(m(g[d]),c),f+=["  <th",align[d],">",l,"</th>\n"].join("");f+="</tr>\n</thead>\n";h=h.split("\n");for(d=0;d<h.length;d++)if(!h[d].match(/^\s*$/)){g=h[d].split(/ *[|] */);var k=e-g.length;for(l=0;l<k;l++)g.push("");
f+="<tr>\n";for(l=0;l<e;l++)k=n(m(g[l]),c),f+=["  <td",align[l],">",k,"</td>\n"].join("");f+="</tr>\n"}return c.hashExtraBlock(f+"</table>\n")}var c=this;a=a.replace(/^[ ]{0,3}[|](.+)\n[ ]{0,3}[|]([ ]*[-:]+[-| :]*)\n((?:[ ]*[|].*\n?)*)(?:\n|$)/gm,b);return a=a.replace(/^[ ]{0,3}(\S.*[|].*)\n[ ]{0,3}([-:]+[ ]*[|][-| :]*)\n((?:.*[|].*\n?)*)(?:\n|$)/gm,b)};Markdown.Extra.prototype.stripFootnoteDefinitions=function(a){var b=this;return a=a.replace(/\n[ ]{0,3}\[\^(.+?)\]:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g,
function(c,d,e){d=u(d);e=(e+"\n").replace(/^[ ]{0,3}/g,"");b.footnotes[d]=e;return"\n"})};Markdown.Extra.prototype.doFootnotes=function(a){var b=this;if(!0===b.isConvertingFootnote)return a;var c=0;return a=a.replace(/\[\^(.+?)\]/g,function(d,e){e=u(e);if(void 0===b.footnotes[e])return d;c++;b.usedFootnotes.push(e);return b.hashExtraInline('<a href="#fn:'+e+'" id="fnref:'+e+'" title="See footnote" class="footnote">'+c+"</a>")})};Markdown.Extra.prototype.printFootnotes=function(a){if(0===this.usedFootnotes.length)return a;
a+='\n\n<div class="footnotes">\n<hr>\n<ol>\n\n';for(var b=0;b<this.usedFootnotes.length;b++){var c=this.usedFootnotes[b],d=this.footnotes[c];this.isConvertingFootnote=!0;d=n(d,this);delete this.isConvertingFootnote;a+='<li id="fn:'+c+'">'+d+' <a href="#fnref:'+c+'" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n'}return a+"</ol>\n</div>"};Markdown.Extra.prototype.fencedCodeBlocks=function(a){var b=this;return a=a.replace(/(?:^|\n)```[ \t]*(\S*)[ \t]*\n([\s\S]*?)\n```[ \t]*(?=\n)/g,
function(c,d,e){c=b.googleCodePrettify?' class="prettyprint"':"";var f="";d&&(f=b.googleCodePrettify||b.highlightJs?' class="language-'+d+'"':' class="'+d+'"');d=f;e=e.replace(/&/g,"&amp;");e=e.replace(/</g,"&lt;");e=e.replace(/>/g,"&gt;");e=e.replace(/~D/g,"$$");e=e.replace(/~T/g,"~");e=["<pre",c,"><code",d,">",e,"</code></pre>"].join("");return b.hashExtraBlock(e)})};Markdown.Extra.prototype.educatePants=function(a){var b=this,c="",d=0;a.replace(/(?:\x3c!--[\s\S]*?--\x3e)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g,
function(f,h,g,l,k,p,v){var D=a.substring(d,v);c+=b.applyPants(D);b.smartyPantsLastChar=c.substring(c.length-1);d=v+f.length;h?(/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(g)?b.smartyPantsLastChar=k.substring(k.length-1):k=b.educatePants(k),c+=h+g+l+k+p):c+=f});var e=a.substring(d);c+=b.applyPants(e);b.smartyPantsLastChar=c.substring(c.length-1);return c};Markdown.Extra.prototype.applyPants=function(a){a=a.replace(/---/g,"&#8212;").replace(/--/g,"&#8211;");a=a.replace(/\.\.\./g,"&#8230;").replace(/\.\s\.\s\./g,
"&#8230;");a=a.replace(/``/g,"&#8220;").replace(/''/g,"&#8221;");if(/^'$/.test(a))return/\S/.test(this.smartyPantsLastChar)?"&#8217;":"&#8216;";if(/^"$/.test(a))return/\S/.test(this.smartyPantsLastChar)?"&#8221;":"&#8220;";a=a.replace(/^'(?=[!"#\$%'()*+,\-.\/:;<=>?@\[\\]\^_`{|}~]\B)/,"&#8217;");a=a.replace(/^"(?=[!"#\$%'()*+,\-.\/:;<=>?@\[\\]\^_`{|}~]\B)/,"&#8221;");a=a.replace(/"'(?=\w)/g,"&#8220;&#8216;");a=a.replace(/'"(?=\w)/g,"&#8216;&#8220;");a=a.replace(/'(?=\d{2}s)/g,"&#8217;");a=a.replace(/(\s|&nbsp;|--|&[mn]dash;|&#8211;|&#8212;|&#x201[34];)'(?=\w)/g,
"$1&#8216;");a=a.replace(/([^\s\[\{\(\-])'/g,"$1&#8217;");a=a.replace(/'(?=\s|s\b)/g,"&#8217;");a=a.replace(/'/g,"&#8216;");a=a.replace(/(\s|&nbsp;|--|&[mn]dash;|&#8211;|&#8212;|&#x201[34];)"(?=\w)/g,"$1&#8220;");a=a.replace(/([^\s\[\{\(\-])"/g,"$1&#8221;");a=a.replace(/"(?=\s)/g,"&#8221;");return a=a.replace(/"/ig,"&#8220;")};Markdown.Extra.prototype.runSmartyPants=function(a){this.smartyPantsLastChar="";a=this.educatePants(a);return a=a.replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g,z)};Markdown.Extra.prototype.definitionLists=
function(a){var b=this;a=q(a);a=a.replace(/(\x02\n?|\n\n)(?:(([ ]{0,3}((?:[ \t]*\S.*\n)+)\n?[ ]{0,3}:[ ]+)([\s\S]+?)((?=\0x03)|(?=\n{2,}(?=\S)(?![ ]{0,3}(?:\S.*\n)+?\n?[ ]{0,3}:[ ]+)(?![ ]{0,3}:[ ]+)))))/gm,function(c,d,e){c=m(b.processDefListItems(e));return d+b.hashExtraBlock("<dl>\n"+c+"\n</dl>")+"\n\n"});return r(a)};Markdown.Extra.prototype.processDefListItems=function(a){var b=this;a=q(a);a=a.replace(/\n{2,}(?=\\x03)/,"\n");a=a.replace(/(\x02\n?|\n\n+)([ ]{0,3}(?![:][ ]|[ ])(?:\S.*\n)+?)(?=\n?[ ]{0,3}:[ ])/gm,
function(c,d,e){c=m(e).split("\n");d="";for(e=0;e<c.length;e++){var f=c[e];f=n(m(f),b);d+="\n<dt>"+f+"</dt>"}return d+"\n"});a=a.replace(/\n(\n+)?([ ]{0,3}[:][ ]+)([\s\S]+?)(?=\n*(?:\n[ ]{0,3}[:][ ]|<dt>|\x03))/gm,function(c,d,e,f){d||f.match(/\n{2,}/)?(f=Array(e.length+1).join(" ")+f,f=f.replace(/^(\t|[ ]{1,4})/gm,"")+"\n\n",f="\n"+t(f,b)+"\n"):(f=f.replace(/\s+$/g,""),f=n(f.replace(/^(\t|[ ]{1,4})/gm,""),b));return"\n<dd>"+f+"</dd>\n"});return r(a)};Markdown.Extra.prototype.strikethrough=function(a){return a.replace(/([\W_]|^)~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T([\W_]|$)/g,
"$1<del>$2</del>$3")};Markdown.Extra.prototype.newlines=function(a){return a.replace(/(<(?:br|\/li)>)?\n/g,function(b,c){return c?b:" <br>\n"})}})();
